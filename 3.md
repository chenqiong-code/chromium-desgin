# 这篇文章讲一下第二次读像素的一生这个ppt的总结

这篇ppt表示了浏览器的如何从渲染器的进程开始=============
输入是一个叫做content的东西、就是一些html css js等。这些浏览器的接口是一个叫做webcontent接口做的，由这个接口可以对于上层我们就可以嵌入不同的浏览器了。webcontent里面创建了一个渲染进程，或者几个渲染进程，这些进程可以用来渲染页面。

在渲染进程中有叫做blink的东西，这个东西是用来实现web平台规范的。
还有就是我们使用底层系统使用的图形系统来渲染图形。opengl的接口、directX这样的接口、我们浏览器可以实现这样的接口然后通过底层的操作系统，然后操作系统调用他们对应的设备驱动器，然后可以使用这些东西来绘制像素。

首先我们说web content是什么呢？我们可以说是浏览器tab里面的内容、我们也可以说是html, css， js, webgl, web assembly, canvas, pdf, video, audio, image, etc.web contents里面封装和创建了渲染的进程、这个进程就是blink做的事情， blink就是我们对web平台语义的实现，也就是实现了一些规范。

我们知道这些图形库是用来做什么呢？？？？？？？？？？？？？？？？？？？？
这些图形库是我们用来把一些表示图形的操作、也就是要绘制图形的操作，把这些操作变成一些二进制像素的缓冲区中。

渲染的目标有两种：第一个是把web content渲染成像素。第二种是什么呢？？第二种就是更有效的在web content更新的时候更快的渲染，更有效率的渲染。。
为了更有效率的渲染、渲染器会在渲染的每个阶段都会产生数据结构。。这些数据结构能够帮助我们更有效率的渲染。。

DOM能够将查询和修改渲染的api发给js.

我们知道一开始是DOM树、然后就是样式树、样式树是说明每个DOM都会有一个专门针对的样式。我们知道选择器越来越复杂，然后声明的样式也是越来越复杂，甚至有可能互相矛盾。所以我们必须清楚的知道顺序。
再然后呢就是一些我们知道布局树，布局这个东西呢，可以填充几何位置，也就是一些布局对象的创建，我估计这些布局对象的属性上应该都会有一些属性，这些属性表明该对象在页面中的位置，以及矩形的大小。。

然后就是paint了，paint这个东西就是把按照栈顺序来做的，栈顺序的意思是按照z-index来做的。除了这个paint还在对背景，浮动，前景，轮廓着每个阶段都会按照栈顺序进行遍历一遍。。
但是他并没有把东西画在屏幕上、通过记录这些绘制的操作，也就是画圆、画方的操作。

还有就是栅格化、栅格化的意思是把上面这些绘制操作通过调用skia、这个东西你可以理解成为调用opengl的东西，相当于又封装了一层、这样我们使用的时候能够更加简便。产生的opengl的系统调用是通过
命令缓冲区传送给了gpu、这样的话我们就能够很好的进行说明这是沙盒进程的副作用了，我们不能直接的进行系统调用。然后就产生了内存，位图内存，注意这里是gpu内存！！！！！！！！！！

为什么需要合成呢？？？
一是因为重绘和栅格化在滚动的时候仍然需要很多的时间以及仍然做很多的事情，特别的在滚动区域的时候，设置每个阶段的失效时令人尴尬的完全体。。
还有就是js与渲染进程的东西存在互相阻塞的功能，如果js执行过多啊，那么整个渲染就会阻塞。。

